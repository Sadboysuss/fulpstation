<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><link rel="stylesheet" href="dmdoc.css"><title>/world - </title></head><body><header><a href="index.html"></a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="world.html#proc">Proc Details</a></header><main><h1>World <aside>/<a href="world.html">world</a></aside> <a href="https://github.com/Sadboysuss/fulpstation/blob/7c4da9fb5531499db78837a3c4467a08a8edf2d0/code/world.dm#L11"><img src="git.png" width="16" height="16" title="code/world.dm 11"></a></h1><p>Two possibilities exist: either we are alone in the Universe or we are not. Both are equally terrifying. ~ Arthur C. Clarke</p>
<p>The byond world object stores some basic byond level config, and has a few hub specific procs for managing hub visibility</p><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="world.html#proc/TgsApiVersion">TgsApiVersion</a></th><td>Returns the current <a href="datum/tgs_version.html" title="/datum/tgs_version">/datum/tgs_version</a> of the DMAPI being used if it was activated, null otherwise. This function may sleep if the call to <a href="world.html#proc/TgsNew" title="/world">/world/proc/TgsNew</a> is sleeping!</td></tr><tr><th><a href="world.html#proc/TgsAvailable">TgsAvailable</a></th><td>Returns [TRUE] if DreamDaemon was launched under TGS, the API matches, and was properly initialized. [FALSE] will be returned otherwise.</td></tr><tr><th><a href="world.html#proc/TgsChatBroadcast">TgsChatBroadcast</a></th><td>Send a message to connected chats that are flagged as game-related in TGS. This function may sleep!
If TGS is offline when called, the message may be placed in a queue to be sent and this function will return immediately. Your message will be sent when TGS reconnects to the game.</td></tr><tr><th><a href="world.html#proc/TgsChatChannelInfo">TgsChatChannelInfo</a></th><td>Returns a list of connected <a href="datum/tgs_chat_channel.html" title="/datum/tgs_chat_channel">/datum/tgs_chat_channel</a>s if TGS is present, null otherwise. This function may sleep if the call to <a href="world.html#proc/TgsNew" title="/world">/world/proc/TgsNew</a> is sleeping!</td></tr><tr><th><a href="world.html#proc/TgsChatPrivateMessage">TgsChatPrivateMessage</a></th><td>Send a private message to a specific user. This function may sleep!
If TGS is offline when called, the message may be placed in a queue to be sent and this function will return immediately. Your message will be sent when TGS reconnects to the game.</td></tr><tr><th><a href="world.html#proc/TgsEndProcess">TgsEndProcess</a></th><td>Forces a hard reboot of DreamDaemon by ending the process. This function may sleep!</td></tr><tr><th><a href="world.html#proc/TgsEngine">TgsEngine</a></th><td>Returns the running engine type</td></tr><tr><th><a href="world.html#proc/TgsInitializationComplete">TgsInitializationComplete</a></th><td>Consumers MUST call this when world initializations are complete and the game is ready to play before any player interactions happen.</td></tr><tr><th><a href="world.html#proc/TgsInstanceName">TgsInstanceName</a></th><td>Returns the name of the TGS instance running the game if TGS is present, null otherwise. This function may sleep if the call to <a href="world.html#proc/TgsNew" title="/world">/world/proc/TgsNew</a> is sleeping!</td></tr><tr><th><a href="world.html#proc/TgsMaximumApiVersion">TgsMaximumApiVersion</a></th><td>Returns the maximum supported <a href="datum/tgs_version.html" title="/datum/tgs_version">/datum/tgs_version</a> of the DMAPI.</td></tr><tr><th><a href="world.html#proc/TgsMinimumApiVersion">TgsMinimumApiVersion</a></th><td>Returns the minimum supported <a href="datum/tgs_version.html" title="/datum/tgs_version">/datum/tgs_version</a> of the DMAPI.</td></tr><tr><th><a href="world.html#proc/TgsNew">TgsNew</a></th><td>Consumers MUST call this somewhere in <a href="https://www.byond.com/docs/ref/#/world/proc/New" title="/world/proc/New">/world/proc/New</a> that is always run. This function may sleep!</td></tr><tr><th><a href="world.html#proc/TgsReboot">TgsReboot</a></th><td>Consumers MUST call this as late as possible in [world/proc/Reboot] (BEFORE ..()).</td></tr><tr><th><a href="world.html#proc/TgsRevision">TgsRevision</a></th><td>Return the current <a href="datum/tgs_revision_information.html" title="/datum/tgs_revision_information">/datum/tgs_revision_information</a> of the running server if TGS is present, null otherwise. This function may sleep if the call to <a href="world.html#proc/TgsNew" title="/world">/world/proc/TgsNew</a> is sleeping!</td></tr><tr><th><a href="world.html#proc/TgsSecurityLevel">TgsSecurityLevel</a></th><td>Returns the current BYOND security level as a TGS_SECURITY_ define if TGS is present, null otherwise. This function may sleep if the call to <a href="world.html#proc/TgsNew" title="/world">/world/proc/TgsNew</a> is sleeping!</td></tr><tr><th><a href="world.html#proc/TgsTargetedChatBroadcast">TgsTargetedChatBroadcast</a></th><td>Send a message to connected chats. This function may sleep!
If TGS is offline when called, the message may be placed in a queue to be sent and this function will return immediately. Your message will be sent when TGS reconnects to the game.</td></tr><tr><th><a href="world.html#proc/TgsTestMerges">TgsTestMerges</a></th><td>Returns a list of active <a href="datum/tgs_revision_information/test_merge.html" title="/datum/tgs_revision_information/test_merge">/datum/tgs_revision_information/test_merge</a>s if TGS is present, null otherwise. This function may sleep if the call to <a href="world.html#proc/TgsNew" title="/world">/world/proc/TgsNew</a> is sleeping!</td></tr><tr><th><a href="world.html#proc/TgsTriggerEvent">TgsTriggerEvent</a></th><td>Trigger an event in TGS. Requires TGS version &gt;= 6.3.0. Returns [TRUE] if the event was triggered successfully, [FALSE] otherwise. This function may sleep!</td></tr><tr><th><a href="world.html#proc/TgsVersion">TgsVersion</a></th><td>Returns the current <a href="datum/tgs_version.html" title="/datum/tgs_version">/datum/tgs_version</a> of TGS if it is running the server, null otherwise. This function may sleep if the call to <a href="world.html#proc/TgsNew" title="/world">/world/proc/TgsNew</a> is sleeping!</td></tr><tr><th><a href="world.html#proc/TgsVisibility">TgsVisibility</a></th><td>Returns the current BYOND visibility level as a TGS_VISIBILITY_ define if TGS is present, null otherwise. Requires TGS to be using interop API version 5 or higher otherwise the string &quot;___unimplemented&quot; wil be returned. This function may sleep if the call to <a href="world.html#proc/TgsNew" title="/world">/world/proc/TgsNew</a> is sleeping!</td></tr></table><h2 id="proc">Proc Details</h2><h3 id="proc/TgsApiVersion"><aside class="declaration">proc </aside>TgsApiVersion<aside>()  <a href="https://github.com/Sadboysuss/fulpstation/blob/7c4da9fb5531499db78837a3c4467a08a8edf2d0/code/__DEFINES/tgs.dm#L543"><img src="git.png" width="16" height="16" title="code/__DEFINES/tgs.dm 543"></a></aside></h3><p>Returns the current <a href="datum/tgs_version.html" title="/datum/tgs_version">/datum/tgs_version</a> of the DMAPI being used if it was activated, null otherwise. This function may sleep if the call to <a href="world.html#proc/TgsNew" title="/world">/world/proc/TgsNew</a> is sleeping!</p><h3 id="proc/TgsAvailable"><aside class="declaration">proc </aside>TgsAvailable<aside>()  <a href="https://github.com/Sadboysuss/fulpstation/blob/7c4da9fb5531499db78837a3c4467a08a8edf2d0/code/__DEFINES/tgs.dm#L483"><img src="git.png" width="16" height="16" title="code/__DEFINES/tgs.dm 483"></a></aside></h3><p>Returns [TRUE] if DreamDaemon was launched under TGS, the API matches, and was properly initialized. [FALSE] will be returned otherwise.</p><h3 id="proc/TgsChatBroadcast"><aside class="declaration">proc </aside>TgsChatBroadcast<aside>(/<a href="datum/tgs_message_content.html">datum/tgs_message_content</a>/message, /list/channels)  <a href="https://github.com/Sadboysuss/fulpstation/blob/7c4da9fb5531499db78837a3c4467a08a8edf2d0/code/__DEFINES/tgs.dm#L528"><img src="git.png" width="16" height="16" title="code/__DEFINES/tgs.dm 528"></a></aside></h3><p>Send a message to connected chats that are flagged as game-related in TGS. This function may sleep!
If TGS is offline when called, the message may be placed in a queue to be sent and this function will return immediately. Your message will be sent when TGS reconnects to the game.</p>
<p>message - The <a href="datum/tgs_message_content.html" title="/datum/tgs_message_content">/datum/tgs_message_content</a> to send.
channels - Optional list of <a href="datum/tgs_chat_channel.html" title="/datum/tgs_chat_channel">/datum/tgs_chat_channel</a>s to restrict the message to.</p><h3 id="proc/TgsChatChannelInfo"><aside class="declaration">proc </aside>TgsChatChannelInfo<aside>()  <a href="https://github.com/Sadboysuss/fulpstation/blob/7c4da9fb5531499db78837a3c4467a08a8edf2d0/code/__DEFINES/tgs.dm#L573"><img src="git.png" width="16" height="16" title="code/__DEFINES/tgs.dm 573"></a></aside></h3><p>Returns a list of connected <a href="datum/tgs_chat_channel.html" title="/datum/tgs_chat_channel">/datum/tgs_chat_channel</a>s if TGS is present, null otherwise. This function may sleep if the call to <a href="world.html#proc/TgsNew" title="/world">/world/proc/TgsNew</a> is sleeping!</p><h3 id="proc/TgsChatPrivateMessage"><aside class="declaration">proc </aside>TgsChatPrivateMessage<aside>(/<a href="datum/tgs_message_content.html">datum/tgs_message_content</a>/message, /<a href="datum/tgs_chat_user.html">datum/tgs_chat_user</a>/user)  <a href="https://github.com/Sadboysuss/fulpstation/blob/7c4da9fb5531499db78837a3c4467a08a8edf2d0/code/__DEFINES/tgs.dm#L517"><img src="git.png" width="16" height="16" title="code/__DEFINES/tgs.dm 517"></a></aside></h3><p>Send a private message to a specific user. This function may sleep!
If TGS is offline when called, the message may be placed in a queue to be sent and this function will return immediately. Your message will be sent when TGS reconnects to the game.</p>
<p>message - The <a href="datum/tgs_message_content.html" title="/datum/tgs_message_content">/datum/tgs_message_content</a> to send.
user: The <a href="datum/tgs_chat_user.html" title="/datum/tgs_chat_user">/datum/tgs_chat_user</a> to PM.</p><h3 id="proc/TgsEndProcess"><aside class="declaration">proc </aside>TgsEndProcess<aside>()  <a href="https://github.com/Sadboysuss/fulpstation/blob/7c4da9fb5531499db78837a3c4467a08a8edf2d0/code/__DEFINES/tgs.dm#L495"><img src="git.png" width="16" height="16" title="code/__DEFINES/tgs.dm 495"></a></aside></h3><p>Forces a hard reboot of DreamDaemon by ending the process. This function may sleep!</p>
<p>Unlike del(world) clients will try to reconnect.
If TGS has not requested a <a href="code/__DEFINES/tgs.html#define/TGS_REBOOT_MODE_SHUTDOWN" title="TGS_REBOOT_MODE_SHUTDOWN">TGS_REBOOT_MODE_SHUTDOWN</a> DreamDaemon will be launched again.</p><h3 id="proc/TgsEngine"><aside class="declaration">proc </aside>TgsEngine<aside>()  <a href="https://github.com/Sadboysuss/fulpstation/blob/7c4da9fb5531499db78837a3c4467a08a8edf2d0/code/__DEFINES/tgs.dm#L538"><img src="git.png" width="16" height="16" title="code/__DEFINES/tgs.dm 538"></a></aside></h3><p>Returns the running engine type</p><h3 id="proc/TgsInitializationComplete"><aside class="declaration">proc </aside>TgsInitializationComplete<aside>()  <a href="https://github.com/Sadboysuss/fulpstation/blob/7c4da9fb5531499db78837a3c4467a08a8edf2d0/code/__DEFINES/tgs.dm#L178"><img src="git.png" width="16" height="16" title="code/__DEFINES/tgs.dm 178"></a></aside></h3><p>Consumers MUST call this when world initializations are complete and the game is ready to play before any player interactions happen.</p>
<p>This may use <a href="https://www.byond.com/docs/ref/#/world/var/sleep_offline" title="/world/var/sleep_offline">/world/var/sleep_offline</a> to make this happen so ensure no changes are made to it while this call is running.
Afterwards, consider explicitly setting it to what you want to avoid this BYOND bug: http://www.byond.com/forum/post/2575184
This function should not be called before ..() in <a href="https://www.byond.com/docs/ref/#/world/proc/New" title="/world/proc/New">/world/proc/New</a>.</p><h3 id="proc/TgsInstanceName"><aside class="declaration">proc </aside>TgsInstanceName<aside>()  <a href="https://github.com/Sadboysuss/fulpstation/blob/7c4da9fb5531499db78837a3c4467a08a8edf2d0/code/__DEFINES/tgs.dm#L548"><img src="git.png" width="16" height="16" title="code/__DEFINES/tgs.dm 548"></a></aside></h3><p>Returns the name of the TGS instance running the game if TGS is present, null otherwise. This function may sleep if the call to <a href="world.html#proc/TgsNew" title="/world">/world/proc/TgsNew</a> is sleeping!</p><h3 id="proc/TgsMaximumApiVersion"><aside class="declaration">proc </aside>TgsMaximumApiVersion<aside>()  <a href="https://github.com/Sadboysuss/fulpstation/blob/7c4da9fb5531499db78837a3c4467a08a8edf2d0/code/__DEFINES/tgs.dm#L471"><img src="git.png" width="16" height="16" title="code/__DEFINES/tgs.dm 471"></a></aside></h3><p>Returns the maximum supported <a href="datum/tgs_version.html" title="/datum/tgs_version">/datum/tgs_version</a> of the DMAPI.</p><h3 id="proc/TgsMinimumApiVersion"><aside class="declaration">proc </aside>TgsMinimumApiVersion<aside>()  <a href="https://github.com/Sadboysuss/fulpstation/blob/7c4da9fb5531499db78837a3c4467a08a8edf2d0/code/__DEFINES/tgs.dm#L476"><img src="git.png" width="16" height="16" title="code/__DEFINES/tgs.dm 476"></a></aside></h3><p>Returns the minimum supported <a href="datum/tgs_version.html" title="/datum/tgs_version">/datum/tgs_version</a> of the DMAPI.</p><h3 id="proc/TgsNew"><aside class="declaration">proc </aside>TgsNew<aside>(/<a href="datum/tgs_event_handler.html">datum/tgs_event_handler</a>/event_handler, minimum_required_security_level, /<a href="datum/tgs_http_handler.html">datum/tgs_http_handler</a>/http_handler)  <a href="https://github.com/Sadboysuss/fulpstation/blob/7c4da9fb5531499db78837a3c4467a08a8edf2d0/code/__DEFINES/tgs.dm#L167"><img src="git.png" width="16" height="16" title="code/__DEFINES/tgs.dm 167"></a></aside></h3><p>Consumers MUST call this somewhere in <a href="https://www.byond.com/docs/ref/#/world/proc/New" title="/world/proc/New">/world/proc/New</a> that is always run. This function may sleep!</p>
<ul>
<li>event_handler - Optional user defined <a href="datum/tgs_event_handler.html" title="/datum/tgs_event_handler">/datum/tgs_event_handler</a>.</li>
<li>minimum_required_security_level: The minimum required security level to run the game in which the DMAPI is integrated. Can be one of <a href="code/__DEFINES/tgs.html#define/TGS_SECURITY_ULTRASAFE" title="TGS_SECURITY_ULTRASAFE">TGS_SECURITY_ULTRASAFE</a>, <a href="code/__DEFINES/tgs.html#define/TGS_SECURITY_SAFE" title="TGS_SECURITY_SAFE">TGS_SECURITY_SAFE</a>, or <a href="code/__DEFINES/tgs.html#define/TGS_SECURITY_TRUSTED" title="TGS_SECURITY_TRUSTED">TGS_SECURITY_TRUSTED</a>.</li>
<li>http_handler - Optional user defined <a href="datum/tgs_http_handler.html" title="/datum/tgs_http_handler">/datum/tgs_http_handler</a>.</li>
</ul><h3 id="proc/TgsReboot"><aside class="declaration">proc </aside>TgsReboot<aside>()  <a href="https://github.com/Sadboysuss/fulpstation/blob/7c4da9fb5531499db78837a3c4467a08a8edf2d0/code/__DEFINES/tgs.dm#L186"><img src="git.png" width="16" height="16" title="code/__DEFINES/tgs.dm 186"></a></aside></h3><p>Consumers MUST call this as late as possible in [world/proc/Reboot] (BEFORE ..()).</p><h3 id="proc/TgsRevision"><aside class="declaration">proc </aside>TgsRevision<aside>()  <a href="https://github.com/Sadboysuss/fulpstation/blob/7c4da9fb5531499db78837a3c4467a08a8edf2d0/code/__DEFINES/tgs.dm#L553"><img src="git.png" width="16" height="16" title="code/__DEFINES/tgs.dm 553"></a></aside></h3><p>Return the current <a href="datum/tgs_revision_information.html" title="/datum/tgs_revision_information">/datum/tgs_revision_information</a> of the running server if TGS is present, null otherwise. This function may sleep if the call to <a href="world.html#proc/TgsNew" title="/world">/world/proc/TgsNew</a> is sleeping!</p><h3 id="proc/TgsSecurityLevel"><aside class="declaration">proc </aside>TgsSecurityLevel<aside>()  <a href="https://github.com/Sadboysuss/fulpstation/blob/7c4da9fb5531499db78837a3c4467a08a8edf2d0/code/__DEFINES/tgs.dm#L558"><img src="git.png" width="16" height="16" title="code/__DEFINES/tgs.dm 558"></a></aside></h3><p>Returns the current BYOND security level as a TGS_SECURITY_ define if TGS is present, null otherwise. This function may sleep if the call to <a href="world.html#proc/TgsNew" title="/world">/world/proc/TgsNew</a> is sleeping!</p><h3 id="proc/TgsTargetedChatBroadcast"><aside class="declaration">proc </aside>TgsTargetedChatBroadcast<aside>(/<a href="datum/tgs_message_content.html">datum/tgs_message_content</a>/message, admin_only)  <a href="https://github.com/Sadboysuss/fulpstation/blob/7c4da9fb5531499db78837a3c4467a08a8edf2d0/code/__DEFINES/tgs.dm#L506"><img src="git.png" width="16" height="16" title="code/__DEFINES/tgs.dm 506"></a></aside></h3><p>Send a message to connected chats. This function may sleep!
If TGS is offline when called, the message may be placed in a queue to be sent and this function will return immediately. Your message will be sent when TGS reconnects to the game.</p>
<p>message - The <a href="datum/tgs_message_content.html" title="/datum/tgs_message_content">/datum/tgs_message_content</a> to send.
admin_only: If [TRUE], message will be sent to admin connected chats. Vice-versa applies.</p><h3 id="proc/TgsTestMerges"><aside class="declaration">proc </aside>TgsTestMerges<aside>()  <a href="https://github.com/Sadboysuss/fulpstation/blob/7c4da9fb5531499db78837a3c4467a08a8edf2d0/code/__DEFINES/tgs.dm#L568"><img src="git.png" width="16" height="16" title="code/__DEFINES/tgs.dm 568"></a></aside></h3><p>Returns a list of active <a href="datum/tgs_revision_information/test_merge.html" title="/datum/tgs_revision_information/test_merge">/datum/tgs_revision_information/test_merge</a>s if TGS is present, null otherwise. This function may sleep if the call to <a href="world.html#proc/TgsNew" title="/world">/world/proc/TgsNew</a> is sleeping!</p><h3 id="proc/TgsTriggerEvent"><aside class="declaration">proc </aside>TgsTriggerEvent<aside>(event_name, /list/parameters, wait_for_completion)  <a href="https://github.com/Sadboysuss/fulpstation/blob/7c4da9fb5531499db78837a3c4467a08a8edf2d0/code/__DEFINES/tgs.dm#L584"><img src="git.png" width="16" height="16" title="code/__DEFINES/tgs.dm 584"></a></aside></h3><p>Trigger an event in TGS. Requires TGS version &gt;= 6.3.0. Returns [TRUE] if the event was triggered successfully, [FALSE] otherwise. This function may sleep!</p>
<p>event_name - The name of the event to trigger
parameters - Optional list of string parameters to pass as arguments to the event script. The first parameter passed to a script will always be the running game's directory followed by these parameters.
wait_for_completion - If set, this function will not return until the event has run to completion.</p><h3 id="proc/TgsVersion"><aside class="declaration">proc </aside>TgsVersion<aside>()  <a href="https://github.com/Sadboysuss/fulpstation/blob/7c4da9fb5531499db78837a3c4467a08a8edf2d0/code/__DEFINES/tgs.dm#L533"><img src="git.png" width="16" height="16" title="code/__DEFINES/tgs.dm 533"></a></aside></h3><p>Returns the current <a href="datum/tgs_version.html" title="/datum/tgs_version">/datum/tgs_version</a> of TGS if it is running the server, null otherwise. This function may sleep if the call to <a href="world.html#proc/TgsNew" title="/world">/world/proc/TgsNew</a> is sleeping!</p><h3 id="proc/TgsVisibility"><aside class="declaration">proc </aside>TgsVisibility<aside>()  <a href="https://github.com/Sadboysuss/fulpstation/blob/7c4da9fb5531499db78837a3c4467a08a8edf2d0/code/__DEFINES/tgs.dm#L563"><img src="git.png" width="16" height="16" title="code/__DEFINES/tgs.dm 563"></a></aside></h3><p>Returns the current BYOND visibility level as a TGS_VISIBILITY_ define if TGS is present, null otherwise. Requires TGS to be using interop API version 5 or higher otherwise the string &quot;___unimplemented&quot; wil be returned. This function may sleep if the call to <a href="world.html#proc/TgsNew" title="/world">/world/proc/TgsNew</a> is sleeping!</p></main><footer>tgstation.dme <a href="https://github.com/Sadboysuss/fulpstation/tree/7c4da9fb5531499db78837a3c4467a08a8edf2d0">7c4da9f</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.9.0</a></footer></body></html>